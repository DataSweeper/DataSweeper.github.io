<dom-module id="blog">

<template>
  <paper-dialog id="test" role="dialog" tabindex="-1" aria-modal="false" class="x-scope paper-dialog-0" aria-labelledby="paper-dialog-header-823" style="outline: none; display: none">
    <h2 id="paper-dialog-header-823">' + r[i].title + '</h2>
    <paper-dialog-scrollable class="x-scope paper-dialog-scrollable-0 no-padding can-scroll">
      <div id="scrollable" class="scrollable style-scope paper-dialog-scrollable" style="box-sizing: border-box; max-height: 400px; max-width: 975px; overflow: auto;">' + r[i].text + '</div>
    </paper-dialog-scrollable>
    <div class="buttons">
    <paper-button dialog-dismiss="" role="button" tabindex="0" animated="" aria-disabled="false" class="x-scope paper-button-0">Cancel</paper-button><paper-button dialog-confirm="" autofocus="" role="button" tabindex="0" animated="" aria-disabled="false" class="x-scope paper-button-0">OK<paper-ripple class="style-scope paper-button">
    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
    </paper-ripple></paper-button>
    </div>
    </paper-dialog>
</template>

<script>
Polymer({
  is: 'blog',
  properties: {
    "obj": {
      type: Object,
      notify: true
    }
  }
});
</script>
</dom-module>

        <dom-module id="tools-list">
            <template>
                <content></content>
            </template>
            <script>

            Polymer({
                is: 'tools-list',
                created: function() {
                    var d;
                    /*$.getJSON("api/posts.json").done(function(data) {
                      d = data;
                    })
                    this.handleResponse(d)*/
                    $.ajax({
                        url: 'api/tools-list.json',
                        dataType: 'json',
                        async: false,
                        success: function(data) {
                            d = data
                        }
                    })
                    this.handleResponse(d)
                },

                s: "",

                handleResponse: function(r) {
                    // x = 0
                    // y = 0
                    this.s += '<table>'
                    for (var i = 0; i < r.length; i++) {
                        if (i % 3 == 0) {
                            if (i === 0)
                                this.s += '<tr>'
                            else
                                this.s += '</tr><tr>'
                        }
                        this.s += '<td>
<my-card id="0">
<img src="' + r[i].avatar + '" width="70" height="70"> <h2>' + r[i].title + '</h2>
</my-card>
</td>';
                    }
                    this.s += '</tr></table>'
                    this.s +=
                        html = $.parseHTML(this.s)
                    for (var i = 0; i < html.length; i++) {
                        Polymer.dom(this).node.appendChild(html[i])
                    }
                },
            });
            </script>
        </dom-module>


        <dom-module id="my-card" assetpath="/">

         <style>
                :host {
                    display: block;
                    cursor: pointer;
                    position: relative;
                    background-color: rgb(255, 255, 255);
                    width: 100px;
                    font-size: 1.2rem;
                    font-weight: 300;
                    box-shadow: 1px 3px 1px rgba(0, 0, 0, 0.08);
                    border: 1px solid #dbe3e7;
                    padding: 20px;
                }
                
                .card-header {
                    margin-bottom: 10px;
                }
                
                polyfill-next-selector {
                    content: '.card-header h2';
                }
                
                .card-header::content h2 {
                    margin: 0;
                    font-size: 1.8rem;
                    font-weight: 300;
                }
                
                polyfill-next-selector {
                    content: '.card-header img';
                }
                
                .card-header::content img {
                    width: 70px;
                    border-radius: 50%;
                    margin: 10px;
                }
                
                paper-dialog-scrollable {
                    display: block;
                    position: relative;
                }
                </style>

            <template>
                <content></content>
    <input value="{{obj.text::input}}" />
    <blog obj="[[obj]]"></blog>
            </template>
            <script>
            Polymer({
                is: 'my-card',

                listeners: {
                    'tap': 'regularTap'
                },

                regularTap: function(e) {
                    if (this.id == 0) {
                        //var t = document.getElementById("test")
                        //console.log(t)
                        //console.log(t[0])
                        var t = this.getElementsByTagName("paper-dialog");
                        t[0].style.cssText = "outline: none; position: fixed; z-index: 20; top: 70px; left: 230px;height: /*500px;width: 700px;*/"
                        this.id = 1;
                    } else {
                        var t = this.getElementsByTagName("paper-dialog");
                        t[0].style.cssText = "outline: none; display: none;"
                        this.id = 0;
                    }
                },
properties: {
        "obj": {
          type: Object,
          notify: true,
          value: {
            "name": ""
          }
        }
      }
            });
            </script>
        </dom-module>
